<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Javascript," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Javascript 核心（ECMAScript）Javascript预留关键字 Reserved keywordshttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords  控制结构条件表达式的三元操作符1var allowed = (age &amp;gt; 18) ? &quot;yes">
<meta name="keywords" content="Javascript">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript">
<meta property="og:url" content="https://yingshanguo.github.io/2016/10/08/javascript/index.html">
<meta property="og:site_name" content="Yoko Kuok's Blog">
<meta property="og:description" content="Javascript 核心（ECMAScript）Javascript预留关键字 Reserved keywordshttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords  控制结构条件表达式的三元操作符1var allowed = (age &amp;gt; 18) ? &quot;yes">
<meta property="og:image" content="http://www.w3school.com.cn/i/ct_js_domtree.gif">
<meta property="og:updated_time" content="2017-04-12T12:22:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript">
<meta name="twitter:description" content="Javascript 核心（ECMAScript）Javascript预留关键字 Reserved keywordshttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords  控制结构条件表达式的三元操作符1var allowed = (age &amp;gt; 18) ? &quot;yes">
<meta name="twitter:image" content="http://www.w3school.com.cn/i/ct_js_domtree.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://yingshanguo.github.io/2016/10/08/javascript/"/>





  <title> Javascript | Yoko Kuok's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yoko Kuok's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://yingshanguo.github.io/2016/10/08/javascript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yoko Kuok">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/./images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yoko Kuok's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Javascript
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-10-08T18:13:48+08:00">
                2016-10-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h1><!--<ol>
    <li>核心（ECMAScript）
        <ul>
            <li>预留关键字 Reserved keywords</li>
            <li>控制结构
                <ul>
                   <li>条件表达式的三元操作符</li>
                   <li>switch 语句</li>
               </ul>
           </li>
           <li>对象</li>
           <li>数组
            <ul>
                <li>length</li>
                <li>forEach</li>
                <li>push</li>
            </ul>
            </li>
            <li>函数</li>
            <li>自定义对象
                <ul>
                   <li>原型链</li>
               </ul>
           </li>
           <li>内部函数   （可以访问父函数作用域中的变量，减少全局变量）</li>
           <li>闭包   （返回外部函数）
              <ul>
                <li>内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）</li>      
              </ul>
           </li>
           <li>this</li>
        </ul>
    </li>
    <li>ES6
        <ul>
            <li>类
                <ul>
                   <li>使用 extends 创建子类</li>
                   <li>使用 super 引用父类</li>
               </ul>
           </li>
       </ul>
    </li>
    <li>文档对象模型（DOM）
        <ul>
            <li>aaa
                <ul>
                   <li>bbbb</li>
               </ul>
           </li>
       </ul>
   </li>
   <li> 浏览器对象模型（BOM）
    <ul>
        <li>aaa
            <ul>
               <li>bbbb</li>
           </ul>
       </li>
   </ul>
   <li><a href="">JavaScript写成类插件</a></li>
   <li><a href="#javascript-question">JavaScript常错</a>
      <ul>
        <li><a href="#javascript-question-1">getElementById获取变量</a></li>
      </ul>
   </li>
   <li><a href="#javascript-QA">JavaScript陷阱集</a></li>
</li>
</ol>

浏览网站:
 - 核心（ECMAScript）
  - 重新介绍 JavaScript（JS 教程）https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/A_re-introduction_to_JavaScript#数字

 - 文档对象模型（DOM）-->
<h2 id="核心（ECMAScript）"><a href="#核心（ECMAScript）" class="headerlink" title="核心（ECMAScript）"></a>核心（ECMAScript）</h2><h3 id="Javascript-1"><a href="#Javascript-1" class="headerlink" title="Javascript"></a>Javascript</h3><h4 id="预留关键字-Reserved-keywords"><a href="#预留关键字-Reserved-keywords" class="headerlink" title="预留关键字 Reserved keywords"></a>预留关键字 Reserved keywords</h4><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Keywords</a></p>
<hr>
<h4 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h4><h5 id="条件表达式的三元操作符"><a href="#条件表达式的三元操作符" class="headerlink" title="条件表达式的三元操作符"></a>条件表达式的三元操作符</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> allowed = (age &gt; <span class="number">18</span>) ? <span class="string">"yes"</span> : <span class="string">"no"</span>;</div></pre></td></tr></table></figure>
<h5 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h5><ul>
<li>switch</li>
<li>case</li>
<li>break</li>
<li>defult<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">switch</span>(action) &#123;</div><div class="line">    <span class="keyword">case</span> <span class="string">'draw'</span>:</div><div class="line">        drawIt();</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="string">'eat'</span>:</div><div class="line">        eatIt();</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        doNothing();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><h5 id="创建一个空对象"><a href="#创建一个空对象" class="headerlink" title="创建一个空对象"></a>创建一个空对象</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div></pre></td></tr></table></figure>
<p><strong>对象字面量</strong>（object literal）, JSON 格式的核心语法（<strong>优先选择</strong>）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div></pre></td></tr></table></figure></p>
<ul>
<li>在对象实例中定义一个对象：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">"Carrot"</span>,</div><div class="line">    <span class="string">"for"</span>: <span class="string">"Max"</span>,</div><div class="line">    <span class="attr">details</span>: &#123;</div><div class="line">        <span class="attr">color</span>: <span class="string">"orange"</span>,</div><div class="line">        <span class="attr">size</span>: <span class="number">12</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>对象的属性可以通过链式（chain）表示方法进行访问：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">obj.details.color; <span class="comment">// orange</span></div><div class="line">obj[<span class="string">"details"</span>][<span class="string">"size"</span>]; <span class="comment">// 12</span></div></pre></td></tr></table></figure></p>
<hr>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p>特殊的属性——<strong>length（长度）属性</strong></p>
<ul>
<li>这个属性的值通常比数组最大索引大 1。</li>
<li><strong>数组的长度是比数组最大索引值多一的数。</strong></li>
</ul>
<p>相关用法：</p>
<ul>
<li>forEach();</li>
<li>push();</li>
</ul>
<p>创建数组的传统方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">a[<span class="number">0</span>] = <span class="string">"dog"</span>;</div><div class="line">a[<span class="number">1</span>] = <span class="string">"cat"</span>;</div><div class="line">a[<span class="number">2</span>] = <span class="string">"hen"</span>;</div><div class="line">a.length; <span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<p>数组字面量（array literal）法（<strong>优先选择</strong>）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="string">"dog"</span>, <span class="string">"cat"</span>, <span class="string">"hen"</span>];</div><div class="line">a.length; <span class="comment">// 3</span></div></pre></td></tr></table></figure></p>
<p>数组的长度是比数组最大索引值多一的数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = [<span class="string">"dog"</span>, <span class="string">"cat"</span>, <span class="string">"hen"</span>];</div><div class="line">a[<span class="number">100</span>] = <span class="string">"fox"</span>;</div><div class="line">a.length; <span class="comment">// 101</span></div></pre></td></tr></table></figure></p>
<p><strong>访问不存在的数组，返回undefined</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span>(a[<span class="number">90</span>]); <span class="comment">// undefined</span></div></pre></td></tr></table></figure></p>
<p>遍历数组  <strong>forEach()：</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="string">"dog"</span>, <span class="string">"cat"</span>, <span class="string">"hen"</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, array</span>) </span>&#123;</div><div class="line">  <span class="comment">// Do something with currentValue or array[index]</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>如果想在数组后追加元素，只需要：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a.push(item);</div></pre></td></tr></table></figure></p>
<hr>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="built_in">arguments</span>.length; i &lt; j; i++) &#123;</div><div class="line">        sum += <span class="built_in">arguments</span>[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum;</div><div class="line">&#125;</div><div class="line"></div><div class="line">add(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">// 14</span></div></pre></td></tr></table></figure>
<ul>
<li>函数实际上是访问了函数体中一个名为 arguments 的内部对象，这个对象就如同一个类似于数组的对象一样，包括了所有被传入的参数。</li>
</ul>
<hr>
<h4 id="自定义对象"><a href="#自定义对象" class="headerlink" title="自定义对象"></a>自定义对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">makePerson</span>(<span class="params">first, last</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">first</span>: first,</div><div class="line">        <span class="attr">last</span>: last,</div><div class="line">        <span class="attr">fullName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.first + <span class="string">' '</span> + <span class="keyword">this</span>.last;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">fullNameReversed</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.last + <span class="string">', '</span> + <span class="keyword">this</span>.first;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">s = makePerson(<span class="string">"Simon"</span>, <span class="string">"Willison"</span>);</div><div class="line">s.fullName(); <span class="comment">// Simon Willison</span></div><div class="line">s.fullNameReversed(); <span class="comment">// Willison, Simon</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>关键字 this</strong>：当使用在函数中时，this 指代当前的对象，也就是调用了函数的对象。<strong>如果在一个对象上使用点或者方括号来访问属性或方法，这个对象就成了 this。</strong>如果并没有使用“点”运算符调用某个对象，那么 this 将指向<strong>全局对象</strong>（global object）。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">s = makePerson(<span class="string">"Simon"</span>, <span class="string">"Willison"</span>);</div><div class="line"><span class="keyword">var</span> fullName = s.fullName;</div><div class="line">fullName(); <span class="comment">// undefined undefined</span></div></pre></td></tr></table></figure>
<h5 id="使用关键字-this-改进"><a href="#使用关键字-this-改进" class="headerlink" title="使用关键字 this 改进"></a>使用关键字 this 改进</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.first = first;</div><div class="line">    <span class="keyword">this</span>.last = last;</div><div class="line">    <span class="keyword">this</span>.fullName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.first + <span class="string">' '</span> + <span class="keyword">this</span>.last;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.fullNameReversed = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.last + <span class="string">', '</span> + <span class="keyword">this</span>.first;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Person(<span class="string">"Simon"</span>, <span class="string">"Willison"</span>);</div></pre></td></tr></table></figure>
<ul>
<li>单独调用fullName() 时会产生相同的问题，this指向全局变量，undefined</li>
<li><strong>new</strong>，它和 this 密切相关。它的作用是创建一个崭新的空对象，然后使用指向那个对象的 this 调用特定的函数。注意，含有 this 的特定函数不会返回任何值，只会修改 this 对象本身。new 关键字将生成的 this 对象返回给调用方，而被 new 调用的函数成为构造函数。习惯的做法是将这些函数的<strong>首字母大写</strong>，这样用 new 调用他们的时候就容易识别了。</li>
</ul>
<h5 id="再次改进"><a href="#再次改进" class="headerlink" title="再次改进"></a>再次改进</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">personFullName</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.first + <span class="string">' '</span> + <span class="keyword">this</span>.last;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">personFullNameReversed</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.last + <span class="string">', '</span> + <span class="keyword">this</span>.first;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.first = first;</div><div class="line">    <span class="keyword">this</span>.last = last;</div><div class="line">    <span class="keyword">this</span>.fullName = personFullName;</div><div class="line">    <span class="keyword">this</span>.fullNameReversed = personFullNameReversed;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="（最佳的方案）原型链"><a href="#（最佳的方案）原型链" class="headerlink" title="（最佳的方案）原型链"></a>（最佳的方案）原型链</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.first = first;</div><div class="line">    <span class="keyword">this</span>.last = last;</div><div class="line">&#125;</div><div class="line">Person.prototype.fullName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.first + <span class="string">' '</span> + <span class="keyword">this</span>.last;</div><div class="line">&#125;</div><div class="line">Person.prototype.fullNameReversed = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.last + <span class="string">', '</span> + <span class="keyword">this</span>.first;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>当你试图访问一个 Person 没有定义的属性时，解释器会首先检查这个 Person.prototype 来判断是否存在这样一个属性。所以，任何分配给 Person.prototype 的东西对通过 this 对象构造的实例都是可用的。</li>
</ul>
<p>在程序中的任何时候修改原型（prototype）中的一些东西</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">s = <span class="keyword">new</span> Person(<span class="string">"Simon"</span>, <span class="string">"Willison"</span>);</div><div class="line">s.firstNameCaps();  <span class="comment">// TypeError on line 1: s.firstNameCaps is not a function</span></div><div class="line"></div><div class="line">Person.prototype.firstNameCaps = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.first.toUpperCase()</div><div class="line">&#125;</div><div class="line">s.firstNameCaps(); <span class="comment">// SIMON</span></div></pre></td></tr></table></figure>
<p>可以给 JavaScript 的内置函数原型（prototype）添加东西。让我们给 String 添加一个方法用来返回逆序的字符串：</p>
<ul>
<li>PS： <strong>这个方法可以随时制作自定义的方法</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">var</span> s = <span class="string">"Simon"</span>;</div><div class="line">s.reversed(); <span class="comment">// TypeError on line 1: s.reversed is not a function</span></div><div class="line"></div><div class="line"><span class="built_in">String</span>.prototype.reversed = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> r = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="keyword">this</span>.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">        r += <span class="keyword">this</span>[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> r;</div><div class="line">&#125;</div><div class="line">s.reversed(); <span class="comment">// nomiS</span></div></pre></td></tr></table></figure>
<p>定义新方法也可以在字符串字面量上用（string literal）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"This can now be reversed"</span>.reversed(); <span class="comment">// desrever eb won nac sihT</span></div></pre></td></tr></table></figure></p>
<hr>
<h4 id="内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）"><a href="#内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）" class="headerlink" title="内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）"></a>内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）</h4><p>嵌套函数：<strong>可以访问父函数作用域中的变量</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">betterExampleNeeded</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">oneMoreThanA</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> a + <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> oneMoreThanA();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>如果某个函数依赖于其他的一两个函数，而这一两个函数对你其余的代码没有用处，你可以<strong>将它们嵌套在会被调用的那个函数内部</strong>，这样做可以<strong>减少全局作用域下的函数的数量</strong>，这有利于编写易于维护的代码。</li>
</ul>
<hr>
<h4 id="闭包（返回外部函数）"><a href="#闭包（返回外部函数）" class="headerlink" title="闭包（返回外部函数）"></a>闭包（返回外部函数）</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAdder</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> a + b;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> x = makeAdder(<span class="number">5</span>);</div><div class="line"><span class="keyword">var</span> y = makeAdder(<span class="number">20</span>);</div><div class="line">x(<span class="number">6</span>); <span class="comment">// ?</span></div><div class="line">y(<span class="number">7</span>); <span class="comment">// ?</span></div></pre></td></tr></table></figure>
<ul>
<li>makeAdder创建了一个新的 adder 函数，这个函数自身带有一个参数，它被调用的时候这个参数会被加在外层函数传进来的参数上。</li>
<li>与内嵌函数不同的是，<strong>外部函数被返回了</strong>，那么常识告诉我们局部变量“应该”不再存在。但是它们却仍然存在——否则 adder 函数将不能工作。也就是说，这里存在 makeAdder 的局部变量的两个不同的“副本”——一个是 a 等于5，另一个是 a 等于20。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x(<span class="number">6</span>); <span class="comment">// 返回 11</span></div><div class="line">y(<span class="number">7</span>); <span class="comment">// 返回 27</span></div></pre></td></tr></table></figure>
<p>每当 JavaScript 执行一个函数时，都会创建一个作用域对象（scope object），用来保存在这个函数中创建的局部变量。它和被传入函数的变量一起被初始化。这与那些保存的所有全局变量和函数的全局对象（global object）类似，但仍有一些很重要的区别，第一，每次函数被执行的时候，就会创建一个新的，特定的作用域对象；第二，与<strong>全局对象（在浏览器里面是当做 window 对象来访问的）</strong>不同的是，你不能从 JavaScript 代码中直接访问作用域对象，也没有可以遍历当前的作用域对象里面属性的方法。</p>
<p>所以当调用 makeAdder 时，解释器创建了一个作用域对象，它带有一个属性：a，这个属性被当作参数传入 makeAdder 函数。然后 makeAdder 返回一个新创建的函数。<strong>通常 JavaScript 的垃圾回收器会在这时回收 makeAdder 创建的作用域对象，但是返回的函数却保留一个指向那个作用域对象的引用</strong>。结果是<strong>这个作用域对象不会被垃圾回收器回收，直到指向 makeAdder 返回的那个函数对象的引用计数为零</strong>。</p>
<p>#####　闭包（Closure）补充知识<br>Javascript语言的特殊之处，就在于函数内部可以直接读取全局变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　alert(n);</div><div class="line">　　&#125;</div><div class="line">　　f1(); <span class="comment">// 999</span></div></pre></td></tr></table></figure>
<p>另一方面，在函数外部自然无法读取函数内的局部变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">　　<span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　<span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">　　&#125;</div><div class="line">　　alert(n); <span class="comment">// error</span></div></pre></td></tr></table></figure>
<ul>
<li>闭包的用途</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　<span class="keyword">var</span> n=<span class="number">999</span>;</div><div class="line">　　　　<span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　　　alert(n);</div><div class="line">　　　　&#125;</div><div class="line">　　　　<span class="keyword">return</span> f2;</div><div class="line">　　&#125;</div><div class="line">　　<span class="keyword">var</span> result=f1();</div><div class="line">　　result(); <span class="comment">// 999</span></div></pre></td></tr></table></figure>
<ul>
<li>思考题</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"The Window"</span>;</div><div class="line">　　<span class="keyword">var</span> object = &#123;</div><div class="line">　　　　<span class="attr">name</span> : <span class="string">"My Object"</span>,</div><div class="line">　　　　<span class="attr">getNameFunc</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　　　<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　　　　　<span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">　　　　　　&#125;;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div><div class="line">　　alert(object.getNameFunc()());     <span class="comment">//The Window</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"The Window"</span>;</div><div class="line">　　<span class="keyword">var</span> object = &#123;</div><div class="line">　　　　<span class="attr">name</span> : <span class="string">"My Object"</span>,</div><div class="line">　　　　<span class="attr">getNameFunc</span> : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　　　<span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">　　　　　　<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">　　　　　　　　<span class="keyword">return</span> that.name;</div><div class="line">　　　　　　&#125;;</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;;</div><div class="line">　　alert(object.getNameFunc()());      <span class="comment">//My Object</span></div></pre></td></tr></table></figure>
<hr>
<h5 id="内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）"><a href="#内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）" class="headerlink" title="内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）"></a>内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）</h5><p>解决因闭包而引入的循环引用：</p>
<ol>
<li>不要在匿名内部函数中使用变量</li>
<li>添加另外一个闭包</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addHandler</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'el'</span>);</div><div class="line">    el.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        el.style.backgroundColor = <span class="string">'red'</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这段代码创建了一个元素，当它被点击的时候变红，但同时它也会发生内存泄露。为什么？因为对 el 的引用不小心被放在一个匿名内部函数中。这就在 JavaScript 对象（这个内部函数）和本地对象之间（el）创建了一个循环引用。</p>
<p>解决办法1：不要使用e1变量<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addHandler</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'el'</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">'red'</span>;</div><div class="line">    &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>解决办法2：添加另外一个闭包<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addHandler</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> clickHandler = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.style.backgroundColor = <span class="string">'red'</span>;</div><div class="line">    &#125;;</div><div class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'el'</span>);</div><div class="line">        el.onclick = clickHandler;</div><div class="line">    &#125;)();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><ul>
<li>Java属于编译期绑定，而JS属于 <strong>运行期绑定</strong></li>
<li><strong>this和它声明环境无关，而完全取决于他的执行环境</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//读以下代码之前，必须先阅读《哈利·波特》原著。（笑）</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> name = <span class="string">'罗恩'</span>;</div><div class="line"><span class="keyword">var</span> aaa = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'哈利'</span>,</div><div class="line">    <span class="attr">say</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> bbb = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'赫敏'</span>,</div><div class="line">    <span class="attr">say</span>: aaa.say</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> ccc = aaa.say;</div><div class="line"></div><div class="line">aaa.say();    <span class="comment">//哈利</span></div><div class="line">bbb.say();    <span class="comment">//赫敏</span></div><div class="line">ccc();        <span class="comment">//罗恩</span></div></pre></td></tr></table></figure>
<p>bbb把aaa对象的say方法引用过来,引用的是一个方法而非一个对象，而aaa.say存储的是一个匿名函数，所以这种写法和以下代码并没有什么区别。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> bbb = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'赫敏'</span>,</div><div class="line">    <span class="attr">say</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>特殊情况：<figure class="highlight plain"><figcaption><span>和``` setInterval ```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">```javascript</div><div class="line">var aaa = &#123;</div><div class="line">    name: &apos;哈利&apos;,</div><div class="line">    getName: function () &#123;</div><div class="line">        setTimeout(function()&#123;</div><div class="line">            console.log(this.name);</div><div class="line">        &#125;,100)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></li>
</ul>
<p>原来三行的输出会是什么？</p>
<p>答案：3个罗恩。<br>也就是说，三次this，指代的都是window对象。</p>
<p>稍微改写一下这个方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">getName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//在setTimeout外存储this指代的对象</span></div><div class="line">        <span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="comment">//this.name变成了that.name</span></div><div class="line">            <span class="built_in">console</span>.log(that.name);</div><div class="line">        &#125;,<span class="number">100</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>输出就又正常了。</p>
<hr>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><h4 id="使用-extends-创建子类"><a href="#使用-extends-创建子类" class="headerlink" title="使用 extends 创建子类"></a>使用 extends 创建子类</h4><p>构造器：</p>
<ul>
<li>构造器方法是一个特殊的类方法，其用于创建和初始化对象（用该类生成的）。一个类只能拥有一个名为 constructor 的方法，否则会抛出 SyntaxError 异常。</li>
</ul>
<p>extends 关键字可以用在类声明或者类表达式中来创建一个继承了某个类的子类。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  speak() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' barks.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> Dog(<span class="string">'Mitzie'</span>);</div><div class="line"><span class="comment">// 'Mitzie barks.'</span></div><div class="line">d.speak();</div><div class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(<span class="string">'el'</span>);</div><div class="line">        el.onclick = clickHandler;</div><div class="line">    &#125;)();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>同样也可以用于原有的原型继承的“类”：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Animal.prototype.speak = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="keyword">super</span>.speak();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' barks.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> Dog(<span class="string">'Mitzie'</span>);</div><div class="line">d.speak();</div></pre></td></tr></table></figure></p>
<hr>
<h4 id="使用-super-引用父类"><a href="#使用-super-引用父类" class="headerlink" title="使用 super 引用父类"></a>使用 super 引用父类</h4><p>super 关键字可以用来调用其父类的构造器或者类方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  speak() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lion</span> <span class="keyword">extends</span> <span class="title">Cat</span> </span>&#123;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="keyword">super</span>.speak();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' roars.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<h2 id="文档对象模型（DOM）"><a href="#文档对象模型（DOM）" class="headerlink" title="文档对象模型（DOM）"></a>文档对象模型（DOM）</h2><p><img src="http://www.w3school.com.cn/i/ct_js_domtree.gif" alt="enter image description here"></p>
<hr>
<h2 id="浏览器对象模型（BOM）"><a href="#浏览器对象模型（BOM）" class="headerlink" title="浏览器对象模型（BOM）"></a>浏览器对象模型（BOM）</h2><hr>
<h2 id="Javascript写成类插件"><a href="#Javascript写成类插件" class="headerlink" title="Javascript写成类插件"></a>Javascript写成类插件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">;</div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> Drawingboard = <span class="function"><span class="keyword">function</span>(<span class="params">settings</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> settings = settings || &#123;&#125;</div><div class="line">        <span class="keyword">var</span> defaultSettings = &#123;</div><div class="line">            <span class="attr">lineWidth</span>: <span class="number">1</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">this</span>.settings = $.extend(defaultSettings, settings);</div><div class="line">        <span class="keyword">this</span>.abc = <span class="string">"abc"</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Drawingboard.prototype = &#123;</div><div class="line">        <span class="attr">func1</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"this.abc----"</span>, <span class="keyword">this</span>.abc);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">func2</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> test = <span class="keyword">this</span>;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"this.abc"</span>, <span class="keyword">this</span>.abc); <span class="comment">//打印abc</span></div><div class="line">            <span class="keyword">var</span> test1 = $(<span class="string">"h3"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(test.abc);  <span class="comment">//打印abc;没有赋值var test =this,打印undefined</span></div><div class="line">                test.abc = <span class="string">"bbb"</span>;</div><div class="line">                <span class="built_in">console</span>.log(test.abc);  <span class="comment">//打印bbb</span></div><div class="line">                test.func1();  <span class="comment">//打印bbb</span></div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">window</span>.Drawingboard = Drawingboard;</div><div class="line">    <span class="keyword">var</span> canvas = <span class="keyword">new</span> Drawingboard();</div><div class="line">    canvas.func2();</div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure>
<p><a id="#javascript-question"></a></p>
<h3 id="JavaScript常错"><a href="#JavaScript常错" class="headerlink" title="JavaScript常错"></a>JavaScript常错</h3><p><a id="#javascript-question-1"></a></p>
<h4 id="getElementById-获取变量"><a href="#getElementById-获取变量" class="headerlink" title="getElementById 获取变量"></a>getElementById 获取变量</h4><p>但如果事先定义一个变量，例如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> itemId=label1;</div><div class="line"><span class="keyword">var</span> item=<span class="built_in">document</span>.getElementById(<span class="string">'itemId'</span>);<span class="comment">//双引号一样</span></div></pre></td></tr></table></figure>
<p>然后就会报错，说item为null。<br>如果去掉引号就好了。。<br>即：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> itemId=label1;</div><div class="line"><span class="keyword">var</span> item=<span class="built_in">document</span>.getElementById(itemId);<span class="comment">//没有引号就好了</span></div></pre></td></tr></table></figure></p>
<p>不加引号，这个itemid就是变量，加上引号，这就是字符串常量。电脑就去找ID为ItemId的元素。自然是null</p>
<p><a id="#javascript-QA"></a></p>
<h3 id="javascript-陷阱集"><a href="#javascript-陷阱集" class="headerlink" title="javascript 陷阱集"></a>javascript 陷阱集</h3><ul>
<li>考作用域</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"><span class="keyword">var</span> b = <span class="number">5</span>;</div><div class="line"><span class="keyword">var</span> a = b;  </div><div class="line">b = <span class="number">6</span>;</div><div class="line"><span class="built_in">console</span>.log(a,b);</div><div class="line"><span class="comment">//5 6</span></div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> g = <span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// 这里面就形成了一个方法作用域, 能够保护其中的变量不能被外部访问</span></div><div class="line">    <span class="comment">// 方法作用域能够访问全局作用域</span></div><div class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">    <span class="built_in">console</span>.log(g);</div><div class="line"></div><div class="line">    <span class="comment">// 嵌套方法作用域</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ff</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// 这里面再度形成了一个方法作用域</span></div><div class="line">        <span class="comment">// 其中可以访问外部的那个方法作用域</span></div><div class="line">        <span class="keyword">var</span> aa = <span class="number">2</span>;</div><div class="line">        <span class="built_in">console</span>.log(a);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 出了 ff 的作用域就不能访问其中的东西了</span></div><div class="line">    <span class="comment">// console.log(aa); // 报错 ReferenceError: aa is not defined</span></div><div class="line">&#125;</div><div class="line">f();</div><div class="line"><span class="comment">// console.log(a); // 报错 ReferenceError: a is not defined</span></div></pre></td></tr></table></figure>
<ul>
<li>考声明提前</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//考声明提前</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(a);</div><div class="line">	<span class="built_in">console</span>.log(foo());</div><div class="line">	<span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">test();</div></pre></td></tr></table></figure>
<ul>
<li>考 this</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fullname = <span class="string">'John Doe'</span>;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">	<span class="attr">fullname</span>: <span class="string">'Colin Ihrig'</span>,</div><div class="line">	<span class="attr">getFullname</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.fullname;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">console</span>.log(obj.getFullname());   <span class="comment">//Colin Ihrig</span></div><div class="line"><span class="keyword">var</span> test = obj.getFullname;       <span class="comment">//John Doe</span></div><div class="line"><span class="built_in">console</span>.log(test());</div></pre></td></tr></table></figure>
<ul>
<li>制造干扰因素的版本</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fullname = <span class="string">'John Doe'</span>;</div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">	<span class="attr">fullname</span>: <span class="string">'Colin Ihrig'</span>,</div><div class="line">	<span class="attr">prop</span>: &#123;</div><div class="line">		<span class="attr">fullname</span>: <span class="string">'Aurelio De Rosa'</span>,</div><div class="line">		<span class="attr">getFullname</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.fullname;</div><div class="line">		&#125;</div><div class="line">	&#125;,</div><div class="line">  <span class="attr">getFullname</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">this</span>.fullname;</div><div class="line">		&#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">console</span>.log(obj.prop.getFullname());   <span class="comment">//Aurelio De Rosa</span></div><div class="line"><span class="built_in">console</span>.log(obj.getFullname());      <span class="comment">//Colin Ihrig</span></div><div class="line"><span class="keyword">var</span> test = obj.prop.getFullname;    <span class="comment">//John Doe</span></div><div class="line"><span class="built_in">console</span>.log(test());</div></pre></td></tr></table></figure>
<ul>
<li>分号陷阱</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//分号陷阱</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		<span class="attr">x</span>:<span class="number">1</span></div><div class="line">	&#125;;</div><div class="line">&#125;                    <span class="comment">//&#123;x:1&#125;    </span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span></div><div class="line">	&#123;</div><div class="line">		<span class="attr">x</span>:<span class="number">1</span></div><div class="line">	&#125;;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(fn())      <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<ul>
<li>小数相加</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//不要相信js的符点运算结果，但是整数是可依赖的</span></div><div class="line"><span class="number">0.1</span> + <span class="number">0.2</span>  不等于  <span class="number">0.3</span>    <span class="comment">//0.30000000000000004</span></div><div class="line">可用如下</div><div class="line">(<span class="number">0.1</span>*<span class="number">10</span> + <span class="number">0.2</span>*<span class="number">10</span>)/<span class="number">10</span></div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Javascript/" rel="tag"># Javascript</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/10/31/git/" rel="next" title="Git">
                <i class="fa fa-chevron-left"></i> Git
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/./images/avatar.jpg"
               alt="Yoko Kuok" />
          <p class="site-author-name" itemprop="name">Yoko Kuok</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/YingshanGuo" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Javascript"><span class="nav-number">1.</span> <span class="nav-text">Javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#核心（ECMAScript）"><span class="nav-number">1.1.</span> <span class="nav-text">核心（ECMAScript）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Javascript-1"><span class="nav-number">1.1.1.</span> <span class="nav-text">Javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#预留关键字-Reserved-keywords"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">预留关键字 Reserved keywords</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#控制结构"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">控制结构</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#条件表达式的三元操作符"><span class="nav-number">1.1.1.2.1.</span> <span class="nav-text">条件表达式的三元操作符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#switch-语句"><span class="nav-number">1.1.1.2.2.</span> <span class="nav-text">switch 语句</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对象"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">对象</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#创建一个空对象"><span class="nav-number">1.1.1.3.1.</span> <span class="nav-text">创建一个空对象</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数"><span class="nav-number">1.1.1.5.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#自定义对象"><span class="nav-number">1.1.1.6.</span> <span class="nav-text">自定义对象</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用关键字-this-改进"><span class="nav-number">1.1.1.6.1.</span> <span class="nav-text">使用关键字 this 改进</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#再次改进"><span class="nav-number">1.1.1.6.2.</span> <span class="nav-text">再次改进</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#（最佳的方案）原型链"><span class="nav-number">1.1.1.6.3.</span> <span class="nav-text">（最佳的方案）原型链</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）"><span class="nav-number">1.1.1.7.</span> <span class="nav-text">内部函数（可以访问父函数作用域中的变量，一个减少使用全局变量的好方法）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#闭包（返回外部函数）"><span class="nav-number">1.1.1.8.</span> <span class="nav-text">闭包（返回外部函数）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）"><span class="nav-number">1.1.1.8.1.</span> <span class="nav-text">内存泄漏（不要在匿名内部函数中使用变量、添加另外一个闭包）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this"><span class="nav-number">1.1.2.</span> <span class="nav-text">this</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ES6"><span class="nav-number">1.2.</span> <span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#类"><span class="nav-number">1.2.1.</span> <span class="nav-text">类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-extends-创建子类"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">使用 extends 创建子类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-super-引用父类"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">使用 super 引用父类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文档对象模型（DOM）"><span class="nav-number">1.3.</span> <span class="nav-text">文档对象模型（DOM）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浏览器对象模型（BOM）"><span class="nav-number">1.4.</span> <span class="nav-text">浏览器对象模型（BOM）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Javascript写成类插件"><span class="nav-number">1.5.</span> <span class="nav-text">Javascript写成类插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript常错"><span class="nav-number">1.5.1.</span> <span class="nav-text">JavaScript常错</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#getElementById-获取变量"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">getElementById 获取变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#javascript-陷阱集"><span class="nav-number">1.5.2.</span> <span class="nav-text">javascript 陷阱集</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yoko Kuok</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
